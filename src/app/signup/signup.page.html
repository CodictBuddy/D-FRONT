<ion-header translucent>
  <ion-toolbar class="header-back">
    <ion-buttons slot="start">
      <ion-avatar>
        <img src="assets/icon/favicon.png" alt="" />
      </ion-avatar>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="main-container ion-padding-horizontal">
  <br />

  <div class="ion-padding-horizontal">
    <h1 class="title-30  opacity">Join D-TALKS</h1>
    <div class="df-space-between">
      <h4
        class="h4-sub-title text-primary routerLink"
        style="font-weight: 500; cursor: pointer"
        [routerLink]="['/login']"
      >
        <span style="color: black">or</span>
        sign in
      </h4>
    </div>

    <form [formGroup]="signUpForm">
      <ion-item class="margin-top">
        <ion-label
          color="secondary"
          class="input-label text-gray"
          position="floating"
          >Email
        </ion-label>
        <ion-input inputmode="text" formControlName="email"></ion-input>
      </ion-item>

      <p
        class="text-danger"
        *ngIf="signUpForm.controls['user_email']?.invalid && (signUpForm.controls['email'].dirty && signUpForm.controls['email'].touched)"
      >
        Please enter a valid Email
      </p>

      <ion-item class="margin-top">
        <ion-label
          color="secondary"
          class="input-label text-gray"
          position="floating"
          >Password</ion-label
        >
        <ion-input
          inputmode="text"
          formControlName="password"
          type="password"
          [type]="hide ? 'password' : 'text'"
        ></ion-input>
        <div class="input-suffix">
          <ion-icon *ngIf="!hide" name="eye" (click)="toggleView()"></ion-icon>
          <ion-icon
            *ngIf="hide"
            name="eye-off"
            (click)="toggleView()"
          ></ion-icon>
        </div>
      </ion-item>

      <p
        class="text-danger"
        *ngIf="signUpForm.controls.password.touched && signUpForm.controls.password.errors?.minlength"
      >
        Minimum 6 characters required
      </p>
      <ion-item class="margin-top">
        <ion-label
          color="secondary"
          class="input-label text-gray"
          position="floating"
          >First name
        </ion-label>
        <ion-input inputmode="text" formControlName="first_name"></ion-input>
      </ion-item>

      <p
        class="text-danger"
        *ngIf="signUpForm.controls.first_name?.errors?.required"
      >
        First name is required
      </p>

      <ion-item class="margin-top">
        <ion-label
          color="secondary"
          class="input-label text-gray"
          position="floating"
          >Last name
        </ion-label>
        <ion-input inputmode="text" formControlName="last_name"></ion-input>
      </ion-item>
      <p
        class="text-danger"
        *ngIf="signUpForm.controls.last_name?.errors?.required"
      >
        Last name is required
      </p>

      <br />

      <span style="font-size: small; font-weight: 400; opacity: 0.9"
        >You agree to the D-TALKS <a href="">User Agreement</a>,
        <a href="">Privacy Policy</a> and <a href="">Cookie Policy</a>.For
        signups we will send a verification link via email.
      </span>

      <ion-button
        color="secondary"
        shape="round"
        class="round-btn-40"
        expand="block"
        type="submit"
        (click)="register(signUpForm.valid,signUpForm.value)"
      >
        Agree & Join
      </ion-button>
    </form>
  </div>
</ion-content>
