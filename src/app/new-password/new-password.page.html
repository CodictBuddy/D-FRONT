<ion-content class="main-container ion-padding-horizontal">
  <ion-avatar size="large" style="height: 98px">
    <img src="assets/icon/favicon.png" alt="" />
  </ion-avatar>
  <br />

  <div class="ion-padding-horizontal">
    <h1 class="title-30" style="opacity: 0.9">Choose a new password.</h1>
    <h4 class="h4-sub-title text-primary routerLink" style="cursor: pointer">
      <span style="color: black"
        >Create a password that is atleast 8 characters long.</span
      >
    </h4>
    <form [formGroup]="npForm">
      <ion-item style="margin-top: 10px">
        <ion-label
          color="secondary"
          class="input-label text-gray"
          position="floating"
          >New password</ion-label
        >
        <ion-input
          inputmode="text"
          type="password"
          [type]="hide ? 'password' : 'text'"
          formControlName="password"
        ></ion-input>
        <div class="input-suffix">
          <ion-icon *ngIf="!hide" name="eye" (click)="toggleView()"></ion-icon>
          <ion-icon
            *ngIf="hide"
            name="eye-off"
            (click)="toggleView()"
          ></ion-icon>
        </div>
      </ion-item>

      <p class="text-danger" *ngIf="npForm.controls.password.errors?.minlength">
        Minimum 6 characters required
      </p>

      <ion-item style="margin-top: 10px">
        <ion-label
          color="secondary"
          class="input-label text-gray"
          position="floating"
          >Retype new password</ion-label
        >
        <ion-input
          inputmode="text"
          type="password"
          [type]="hide ? 'password' : 'text'"
          formControlName="reTypePassword"
        ></ion-input>
      </ion-item>
      <p
        class="text-danger"
        *ngIf="npForm.controls.reTypePassword.errors?.minlength"
      >
        Minimum 6 characters required
      </p>
      <p
        class="text-danger"
        *ngIf="npForm.controls.reTypePassword.errors?.mismatch && (npForm.controls.reTypePassword.dirty || npForm.controls.reTypePassword.touched)"
      >
        Passwords did not match
      </p>

      <br />

      <ion-button
        color="secondary"
        shape="round"
        class="round-btn-40"
        expand="block"
        type="submit"
        [routerLink]="['/home']"
        (click)="setNp(npForm.valid,npForm.value)"
      >
        Submit
      </ion-button>
    </form>
  </div>
</ion-content>
